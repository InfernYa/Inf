@echo off
TITLE Помощник прошивальщика recovery TWRP от cofface для Redmi Note 3 Pro (kenzo)
color 3f
echo.
ECHO. ===========================================================================
echo.
echo   Вы собираетесь прошить recovery TWRP для Redmi Note 3 Pro (kenzo)
echo.
echo.  Сайт разработчика: weibo.com/cofface,
echo.  Перевод и дополнение скрипта от пользователя MrEagle, 4pda.ru
echo.
echo   - Если вы не хотите прошивать recovery TWRP, пожалуйста, закройте это окно!
echo.
echo   - В противном случае, нажмите любую клавишу для продолжения
echo.
ECHO. ===========================================================================
pause >nul
CLS
ECHO. ===========================================================================
echo.
echo   Следуйте нижеописанным действиям, чтобы войти в режим fastboot:
echo.
echo.    1. Во первых, у вас должен быть разблокированный загрузчик (bootloader)
echo.
echo.    2. Выключите смартфон. Нажмите и долго удерживайте кнопки
echo.       "УМЕНЬШИТЬ ГРОМКОСТЬ" и "ВКЛЮЧЕНИЕ"
echo.
echo     3. На экране появится кролик, ремонтирующий робота
echo.
echo.    4. Выполнив действия, описанные выше, подключите ваш смартфон
echo.       к компьютеру и нажмите любую клавишу для продолжения
echo.
echo.    5. Выберите один из вариантов:
echo.         1: Вы хотите прошить TWRP на постоянную основу
echo.         2: Вы хотите только ВРЕМЕННО подгрузить TWRP
echo. 
echo     - Если вы не хотите ничего делать с recovery, пожалуйста, закройте это окно!
echo.
:vibor
set /p param="Введите ваш вариант (1 или 2): "
if "%param%"=="1" goto :next
if "%param%"=="2" goto :next
goto :vibor
:next
echo.
echo.    Вы выбрали вариант "%param%":
if "%param%"=="1" echo     Прошить TWRP на постоянную основу
if "%param%"=="2" echo     ВРЕМЕННО подгрузить TWRP
echo.
echo.    Для продолжения нажмите любую клавишу...
pause >nul
echo.
echo.
ECHO. ===========================================================================
CLS
ECHO. ===========================================================================
echo.
echo.
echo    Ниже вы должны увидеть примерно следующую строку
echo    (код в начале у вас будет другим):
echo.
echo.
echo         e5435c2d7d62 fastboot
echo.
echo.
echo    Если вы успешно выполнили все действия, подключили смартфон
echo    к компьютеру и ниже наблюдаете сообщение, аналогичное вышенаписанному,
echo    то нажмите любую клавишу, чтобы начать процесс прошивки recovery TWRP
echo.
echo    В противном случае, пожалуйста, закройте это окно и проверьте,
echo    правильно ли установлены все драйвера и смартфон подключен верно
echo.
echo    Перед дальнейшими действиями, обязательно убедитесь,
echo    что компьютер и смартфон соединены правильно!
echo.
ECHO. ===========================================================================
echo.
echo.
fastboot.exe devices
echo.
echo.    Если все верно, то нажмите любую клавишу,
echo.    чтобы начать процесс прошивки/подгрузки recovery TWRP...
pause >nul
if  "%param%"=="1" goto :flash
if  "%param%"=="2" goto :boot
:flash
CLS
ECHO. ===========================================================================
echo.
echo.
echo    Теперь у вас должно отобразиться примерно следующее:
echo.
echo.
echo.   sending 'recovery' (38174 KB)...
echo.   OKAY [  0.500s]
echo.   writing 'recovery'...
echo.   OKAY [  0.560s]
echo.   finished. total time: 2.455s
echo.
echo    Если вы увидели ниже примерно такое же сообщение,
echo.   то нажмите любую клавишу для запуска recovery TWRP...
ECHO. ===========================================================================
echo.
echo.
fastboot.exe flash recovery cofface_recovery_twrp_kenzo.img
echo.
echo   Если все верно, то TWRP уже прошит на постоянную основу в ваш смартфон
echo.
echo.  Нажмите любую клавишу для перезагрузки смартфона в recovery TWRP...
pause >nul
:boot
CLS
ECHO. ===========================================================================
echo.
echo    Далее у вас должно отобразиться примерно следующее:
echo.
echo.   downloading 'boot.img'...
echo.   OKAY [  0.838s]
echo.   booting...
echo.   OKAY [  0.025s]
echo.   finished. total time: 0.864s
echo.
echo    Если вы увидели ниже примерно такое же сообщение, значит прошивка прошла успешно
echo    А на экране смартфона должен был отобразиться интерфейс TWRP
echo.
ECHO. ===========================================================================
echo.
echo.
fastboot.exe boot cofface_recovery_twrp_kenzo.img
echo.
echo    Если все верно, то на экране смартфона должен был отобразиться интерфейс TWRP.
echo    Если это так, то я вас поздравляю, вы успешно прошили/подгрузили TWRP!
echo.
echo    Если на экране отображается не понятный вам язык интерфейса TWRP,
echo    то нажмите на правую кнопку (их на экране смартфона у вас скорее всего только две)
echo    и выберите нужный вам язык из списка.
echo.
echo    Нажмите любую клавишу, чтобы закрыть это окно...
pause >nul